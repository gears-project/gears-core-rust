use flox::{FloxResult, Error};

pub expression -> FloxResult
  = e:equation { FloxResult::Integer(e) }

pub equation -> i64
  = add / sub / mul / div

pub add -> i64
  = i:int space* "+" space* j:int { i + j }

pub sub -> i64
  = i:int space* "-" space* j:int { i - j }

pub mul -> i64
  = i:int space* "*" space* j:int { i * j }

pub div -> i64
  = i:int space* "/" space* j:int { i / j }

pub int -> i64
  = n:$([0-9]+) { n.parse().unwrap() }

pub space -> ()
  = " "
  / "\n"
  / "\r"

